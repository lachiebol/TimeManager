(function(t){function e(e){for(var n,r,o=e[0],u=e[1],l=e[2],d=0,f=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);c&&c(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var u=a[o];0!==i[u]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/TimeManager/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"394b":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],r=(a("034f"),a("2877")),o={},u=Object(r["a"])(o,i,s,!1,null,null,null),l=u.exports,c=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("MainPage")],1)},f=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{attrs:{id:"header"}},[t._v("Time Fixinator")]),a("div",{attrs:{id:"no-space"}},[t.noSpace?a("span",[t._v("No space available, please re-order then try again")]):t._e()]),a("b-container",{attrs:{id:"content-container"}},[a("b-row",[a("b-col",{attrs:{cols:"7"}},[a("b-container",{attrs:{id:"timeline-container"}},[a("b-row",[a("b-col",{attrs:{cols:"3",id:"time-value-col"}},t._l(t.dayRange,(function(e){return a("div",{key:e,attrs:{id:"time-values"}},[a("span",[t._v(t._s(e.timeValue)+" "+t._s(e.timeFormat))])])})),0),a("b-col",{attrs:{cols:"6",id:"timeline-col"}},[a("draggable",t._b({on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.displayTasks,callback:function(e){t.displayTasks=e},expression:"displayTasks"}},"draggable",t.dragOptions,!1),[a("transition-group",{attrs:{type:"transition",css:t.animated,name:t.drag?null:"flip-list"}},t._l(t.displayTasks,(function(e){return a("div",{key:e.id},[a("TaskDisplay",{attrs:{task:e,position:"inTimeline"},on:{removeTask:t.removeTask}})],1)})),0)],1)],1)],1)],1)],1),a("b-col",{attrs:{cols:"4"}},[a("TaskCreator",{ref:"taskCreator",on:{addTask:t.addTask}})],1)],1)],1)],1)},m=[],h=a("b85c"),k=(a("99af"),a("fb6a"),a("4de4"),a("3835")),T=(a("d81d"),a("5a0c")),v=a.n(T);function b(t){return[t.slice(0,2),t.slice(2,4)].map((function(t){return parseInt(t)}))}function g(t,e){var a=b(t),n=Object(k["a"])(a,2),i=n[0],s=n[1];e==M.PM&&(i+=12);var r=v()().hour(i).minute(s);return r}function y(t,e){var a=t,n=e;return t<10&&(a="0".concat(t)),e<10&&(n="0".concat(e)),"".concat(a,":").concat(n)}function F(t,e){var a=g(t.timeValue,t.timeFormat),n=g(e.timeValue,e.timeFormat);return Math.abs(a.diff(n,"minute"))}function w(t,e,a){var n=b(t.timeValue),i=Object(k["a"])(n,2),s=i[0],r=i[1],o=b(e.timeValue),u=Object(k["a"])(o,1),l=u[0],c=[];c.push({timeValue:y(s,r),timeFormat:M.AM});while(s!=l){if(r+=a,r!=r%60&&(r%=60,s+=1),s>12){switch(t.timeFormat){case M.AM:t.timeFormat=M.PM;break;case M.PM:t.timeFormat=M.AM;break}s=1}var d={timeValue:y(s,r),timeFormat:t.timeFormat};c.push(d)}for(var f=0,p=c;f<p.length;f++){var m=p[f];if("12:00"==m.timeValue||"12:30"==m.timeValue)switch(console.log(m),m.timeFormat){case M.AM:m.timeFormat=M.PM;break;case M.PM:m.timeFormat=M.AM;break}}return console.log(c),c}var M={AM:"AM",PM:"PM"},_=a("b76a"),O=a.n(_),x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{id:"creator-container"}},[a("b-button",{attrs:{id:"add-task-button"}},[t._v("Create Task")]),a("b-popover",{attrs:{target:"add-task-button",triggers:"focus"}},[a("b-form-input",{attrs:{placeholder:"Task Title"},model:{value:t.newTaskTitle,callback:function(e){t.newTaskTitle=e},expression:"newTaskTitle"}}),a("b-form-input",{attrs:{placeholder:"Task Description"},model:{value:t.newTaskDescription,callback:function(e){t.newTaskDescription=e},expression:"newTaskDescription"}}),a("b-form-spinbutton",{attrs:{id:"select-duration","formatter-fn":t.durationFormatter,min:"0",max:"16"},model:{value:t.durationIndex,callback:function(e){t.durationIndex=e},expression:"durationIndex"}}),a("b-button",{on:{click:t.createTask}},[t._v("Create")])],1),t._l(t.tasks,(function(e){return a("div",{key:e.id},[a("TaskDisplay",{attrs:{task:e,position:"inCreator"},on:{addTask:t.addToTasks}})],1)}))],2)},P=[],j={TASK:"task",EMPTY:"empty"},A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loaded?a("b-container",{attrs:{id:"container"}},[a("transition",{directives:[{name:"show",rawName:"v-show",value:t.adding,expression:"adding"}],attrs:{name:"expand"}},[a("b-row",{class:{dotted:t.isTask(t.task),draggable:"inTimeline"==t.position},style:{height:t.getHeightOfTask(t.task.duration)+"px",background:t.getColourOfTask(t.task.type)},attrs:{cols:"2",id:"item"}},[t.isTask(t.task)?a("b-col",{attrs:{cols:"3",id:"title"}},[t._v(" "+t._s(t.task.title)+" ")]):t._e(),"inTimeline"==t.position&&"task"==t.task.type?a("b-col",{staticClass:"operation",attrs:{cols:"1"}},[a("b-icon",{staticClass:"icon",attrs:{icon:"dash"},on:{click:t.removeTaskFromTimeline}})],1):"inCreator"==t.position?a("b-col",{staticClass:"operation",attrs:{cols:"1"}},[a("b-icon",{staticClass:"icon",attrs:{icon:"plus"},on:{click:t.addTaskToTimeline}})],1):t._e()],1)],1)],1):t._e()},D=[],S={props:["task","position"],data:function(){return{adding:!1,loaded:!1}},mounted:function(){this.loaded=!0},methods:{getHeightOfTask:function(t){return t/30*50},addTaskToTimeline:function(){this.$emit("addTask",this.task)},removeTaskFromTimeline:function(){this.$emit("removeTask",this.task)},getColourOfTask:function(t){return t==j.TASK?"linear-gradient(to right, #5492a5, #82d2eb)":t==j.EMPTY?"linear-gradient(to right, #d4d4d4, #FFFFFF)":void 0},isTask:function(t){return t.type==j.TASK}}},C=S,V=(a("ebf7"),Object(r["a"])(C,A,D,!1,null,null,null)),E=V.exports,$={components:{TaskDisplay:E},data:function(){return{durationIndex:0,newTaskTitle:null,newTaskDescription:null,tasks:[{id:0,title:"Attend Meeting",duration:30,description:"task 1",timeFormat:M.AM,type:j.TASK}]}},methods:{addTaskToList:function(t){this.tasks.push(t)},createTask:function(){var t,e;e=0!=this.tasks.length?this.tasks[this.tasks.length-1].id+1:0,t={id:e,title:this.newTaskTitle,duration:this.getDurations[this.durationIndex].duration,description:this.newTaskDescription,timeFormat:M.AM,type:j.TASK},this.tasks.push(t),this.clearForm()},clearForm:function(){this.durationIndex=0,this.newTaskTitle=null,this.newTaskDescription=null},addToTasks:function(t){this.$emit("addTask",t)},durationFormatter:function(t){return this.getDurations[t].value},removeTask:function(t){this.tasks=this.tasks.filter((function(e){return e!=t}))}},computed:{getDurations:function(){for(var t=1,e=[],a=0;a<16;a++)0==a?e.push({value:"30 Minutes",duration:30}):a%2==0?(e.push({value:"".concat(t," hours 30 minutes"),duration:30*(a+1)}),t++):1==t?e.push({value:"".concat(t," hour"),duration:30*(a+1)}):e.push({value:"".concat(t," hours"),duration:30*(a+1)});return e}}},R=$,K=(a("a550"),Object(r["a"])(R,x,P,!1,null,null,null)),I=K.exports,Y={components:{draggable:O.a,TaskCreator:I,TaskDisplay:E},data:function(){return{start:{timeValue:"0900",timeFormat:M.AM},end:{timeValue:"0500",timeFormat:M.PM},difference:null,dayRange:null,animated:!0,add:!1,noSpace:!1,tasks:[],displayTasks:null,drag:!1}},watch:{displayTasks:function(){this.updateTasks()}},mounted:function(){this.difference=F(this.start,this.end),this.dayRange=w(this.start,this.end,30),this.displayTasks=this.getTasksToDisplay()},methods:{getTime:function(t){return"".concat(t.slice(0,2),":").concat(t.slice(2,4))},addTask:function(t){var e,a=0,n=!1,i=Object(h["a"])(this.displayTasks);try{for(i.s();!(e=i.n()).done;){var s=e.value;if(n=!0,s.type==j.EMPTY){for(var r=t.duration/30,o=0;o<r;o++)a+o<this.displayTasks.length&&this.displayTasks[a+o].type==j.TASK&&(n=!1),a+o>this.displayTasks.length&&(n=!1);if(n)return this.noSpace=!1,this.animated=!1,this.$refs.taskCreator.removeTask(t),t.startTime=s.startTime,t.id=s.id,t.timeFormat=s.timeFormat,this.tasks.push(t),void(this.displayTasks=this.getTasksToDisplay())}n=!1,a++}}catch(u){i.e(u)}finally{i.f()}n||(this.noSpace=!0)},removeTask:function(t){this.tasks=this.tasks.filter((function(e){return e!=t})),this.$refs.taskCreator.addTaskToList(t),this.displayTasks=this.getTasksToDisplay()},getTasksToDisplay:function(){var t=this,e=[],a=this.dayRange.length-1,n=0,i=function(){var a=t.dayRange[n],i=t.tasks.filter((function(t){return t.startTime==a.timeValue&&t.timeFormat==a.timeFormat}));if(i.length>0){var s=i[0];s.id=n,e.push(s),n+=s.duration/30}else e.push({id:n,title:"free",startTime:t.dayRange[n].timeValue,timeFormat:t.dayRange[n].timeFormat,duration:30,type:j.EMPTY}),n+=1};while(n<a)i();return e},isTask:function(t){return t.type==j.TASK},isEmpty:function(t){return t.type==j.EMPTY},updateTasks:function(){var t,e=this,a=!1,n=0,i=Object(h["a"])(this.displayTasks);try{var s=function(){var i=t.value;if(i.startTime!=e.dayRange[n].timeValue&&i.type==j.TASK){var s=e.tasks.filter((function(t){return t.id==i.id}))[0];s.startTime=e.dayRange[n].timeValue,s.timeFormat=e.dayRange[n].timeFormat,a=!0}n+=i.duration/30};for(i.s();!(t=i.n()).done;)s()}catch(r){i.e(r)}finally{i.f()}a&&(this.displayTasks=this.getTasksToDisplay())}},computed:{timeSlots:function(){for(var t=[],e=0;e<this.difference;e+=30)t.push(e);return t},dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}}},H=Y,J=(a("59f2"),Object(r["a"])(H,p,m,!1,null,null,null)),L=J.exports,N={name:"Home",components:{MainPage:L},data:function(){return{setup:null,start:null,end:null}},methods:{setupFinished:function(t){this.start=t[0],this.end=t[1],this.setup=!0}}},q=N,z=(a("cccb"),Object(r["a"])(q,d,f,!1,null,null,null)),B=z.exports;n["default"].use(c["a"]);var G=[{path:"/",name:"Home",component:B}],Q=new c["a"]({routes:G}),U=Q,W=a("5f5b"),X=a("b1e0");a("f9e3"),a("2dd8");n["default"].config.productionTip=!1,n["default"].use(W["a"]),n["default"].use(X["a"]),new n["default"]({router:U,render:function(t){return t(l)}}).$mount("#app")},"59f2":function(t,e,a){"use strict";a("fcca")},"5ced":function(t,e,a){},"6a16":function(t,e,a){},"85ec":function(t,e,a){},a550:function(t,e,a){"use strict";a("394b")},cccb:function(t,e,a){"use strict";a("5ced")},ebf7:function(t,e,a){"use strict";a("6a16")},fcca:function(t,e,a){}});
//# sourceMappingURL=app.ae794c79.js.map